sudo: required

language: bash
services: [ docker ]

env:
  - PACKAGE=mutagen-git
  - PACKAGE=python-httpie-oauth
  - PACKAGE=keyfinder-cli-git
  - PACKAGE=homebridge-git
  - PACKAGE=puddletag-git
  - PACKAGE=waitress-git
  - PACKAGE=oggfwd
  - PACKAGE=dots-manager
  - PACKAGE=setcolors-git
  - PACKAGE=libkeyfinder-git
  - PACKAGE=mkinitcpio-colors-git
  - PACKAGE=media-center-automation
  - PACKAGE=homebridge-tasmota-git
  - PACKAGE=oggfwd-bzr
  - PACKAGE=prolink-tools-git

script:
  - docker run -v $TRAVIS_BUILD_DIR/$PACKAGE:/pkg whynothugo/makepkg

matrix:
  # Allow puddletag to fail right now since pyqt4 was just removed from
  # community, we'll have to wait until a better AUR package shows up.
  allow_failures: [ env: PACKAGE=puddletag-git ]
