# Maintainer: Evan Purkhiser <evanpurkhiser@gmail.com>
# Contributor: Simon Perry <pezz at sanxion dot net>
# Contributor: Sigitas Mazaliauskas <sigisnn at gmail dot com>
# Contributor: LinkMaster03 <linkmaster032000 the at symbol gmail.com>


pkgname=mangler
pkgver=0.0.0
pkgrel=1
pkgdesc="Ventrilo compatible VOIP client for Linux"
arch=('i686' 'x86_64')
url="https://github.com/EvanPurkhiser/mangler"
license=('GPL3')
depends=('dbus-glib' 'gtkmm' 'gsm' 'libpulse' 'speex')
makedepends=('pkg-config' 'librsvg')
optdepends=('alsa-lib: ALSA support'
  'oss: OSS support'
  'celt: CELT codec support'
  'espeak: TTS support'
  'xosd: Information overlay support'
  'g15daemon: G15 keyboard support'
  'libg15: G15 keyboard support'
  'libg15render: G15 keyboard support')
conflicts=('mangler-git' 'mangler-svn' 'mangler-snapshot')
source=(git://github.com/EvanPurkhiser/mangler.git)
md5sums=('SKIP')
options=(!libtool)

pkgver() {
  cd "$pkgname"
  git describe --always | sed 's|-|.|g'
}

prepare() {
  cd "$srcdir/$pkgname"

  ./configure --prefix=/usr
}

build() {
  cd "$srcdir/$pkgname"

  make
  make DESTDIR="$pkgdir" install
}
